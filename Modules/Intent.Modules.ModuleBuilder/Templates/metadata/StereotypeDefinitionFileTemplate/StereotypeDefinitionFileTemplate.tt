<#@ template language="C#" inherits="IntentProjectItemTemplateBase<IStereotypeDefinition>" #>
<#@ assembly name="System.Core" #>
<#@ import namespace="System.Collections.Generic" #>
<#@ import namespace="System.Linq" #>
<#@ import namespace="Intent.Modules.Common" #>
<#@ import namespace="Intent.Modules.Common.Templates" #>
<#@ import namespace="Intent.Metadata.Models" #>
<#@ import namespace="Intent.Modules.ModuleBuilder.Api" #>
<?xml version="1.0" encoding="utf-8"?>
<stereotypeDefinition id="<#= Model.Id #>">
  <name><#= Model.Name #></name>
  <icon type="UrlImagePath" source="data:image/png;base64,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" />
  <displayIcon><#= Model.DisplayIcon.ToString().ToLower() #></displayIcon>
  <displayFunction><#= Model.DisplayFunction #></displayFunction>
  <targetElements>
<#  foreach(var targetType in Model.TargetElements) { #>
    <element><#= targetType #></element>
<#  } #>
  </targetElements>
  <autoAdd><#= Model.AutoAdd.ToString().ToLower() #></autoAdd>
  <parentFolderId><#= Model.ParentElement.Id #></parentFolderId>
  <properties>
<#  foreach(var property in Model.Properties) { #>
    <property id="<#= property.Id #>">
      <name><#= property.Name #></name>
      <controlType><#= property.ControlType #></controlType>
      <optionsSource><#= property.OptionsSource #></optionsSource>
      <defaultValue><#= property.DefaultValue #></defaultValue>
      <valueOptions>
<#  foreach(var option in property.ValueOptions) { #>
        <option><#= option #></option> 
<#  } #>
      </valueOptions>
      <lookupTypes>
<#  foreach(var type in property.LookupTypes) { #>
        <type><#= type #></type>
<#  } #>
      </lookupTypes>
      <lookupInternalTargetPropertyId><#= property.LookupInternalTargetPropertyId #></lookupInternalTargetPropertyId>
      <isActiveFunction>TODO: property.IsActiveFunction</isActiveFunction>
      <comment><#= property.Comment #></comment>
    </property>
<#  } #>
  </properties>
</stereotypeDefinition>